<view class="schedule">
  <!-- 周次选择器 -->
  <in-week_select />
  <!-- 周1-7 -->
  <view style="display:{{hideweekend == true?'none':'block'}}">
    <view class="today"
      style="border-radius:{{day == 7?'0 15rpx 15rpx 0':'0'}};margin-left:{{day >= 4? day*89+(day+1):day*89+(day*day)-day*3}}rpx">
    </view>
    <view class="top">
      <view wx:for="{{['一','二','三','四','五','六','日']}}" class="top-text" wx:key="key">周{{item}}</view>
    </view>
    <view class="top" style="border-radius:0;">
      <view wx:for="{{date7}}" class="top-text" wx:key="key">{{item}}</view>
    </view>

    <view style="background-color:#fff;color:#808080;border-radius:0 0 20rpx 20rpx; ">
      <view wx:for="{{time}}" class="left" wx:key="key">
        <text>{{item.time}}\n{{item.start}}\n{{item.finish}}</text>
      </view>
    </view>

    <view wx:for="{{[1,2,3,4,5,6,7,8,9]}}" wx:key="key">
      <view
        style="width:720rpx;margin-top:{{(index+1)*120+90}}rpx;position:absolute;top:275rpx;border-bottom:1rpx solid {{index%2!=0?'#C0C0C0':'#DCDCDC'}};z-index:6">
      </view>
    </view>

    <view wx:for="{{z101}}" wx:key="key">

      <view class="flex-item kcb-item" bindtap="showCardView" data-statu="open" data-index="{{index}}"
        style="margin-left:{{(item.weekday-1)*91}}rpx;margin-top:{{(item.pitch_num-1)*120+120}}rpx;height:2*850-5rpx;background-color:{{item.color}}">
        <view class="smalltext">
          <text class="smalltext-info" style="padding-bottom:5rpx">{{item.course_name}}</text>
          <text class="smalltext-info">{{item.class_location}}</text>
        </view>
      </view>

    </view>

  </view>

  <!-- 周1-5 -->
  <view style="display:{{hideweekend == true?'block':'none'}}">
    <view class="today"
      style="border-radius:{{day == 5?'0 15rpx 15rpx 0':'0'}};margin-left:{{day >= 3? day*120:day*120}}rpx;width:120rpx">
    </view>
    <view class="top" style="padding-left:115rpx">
      <view wx:for="{{['一','二','三','四','五']}}" class="top-text" wx:key="key" style="width:110rpx;padding-left:10rpx">
        周{{item}}</view>
    </view>
    <view class="top" style="border-radius:0;padding-left:115rpx">
      <view wx:for="{{date5}}" class="top-text" wx:key="key" style="width:110rpx;padding-left:10rpx">{{item}}</view>
    </view>

    <view style="background-color:#fff;color:#808080;border-radius:0 0 20rpx 20rpx">
      <view wx:for="{{time}}" class="left" wx:key="key">
        <text style="margin-left:30rpx">{{item.time}}\n{{item.start}}\n{{item.finish}}</text>
      </view>
    </view>

    <view wx:for="{{[1,2,3,4,5,6,7,8,9]}}" wx:key="key">
      <view
        style="width:720rpx;margin-top:{{(index+1)*120+50}}rpx;position:absolute;top:315rpx;border-bottom:1rpx solid {{index%2!=0?'#C0C0C0':'#DCDCDC'}};z-index:6">
      </view>
    </view>


    <view wx:for="{{z101}}" wx:key="key">

      <view class="flex-item kcb-item" bindtap="showCardView" data-statu="open" data-index="{{index}}"
        style="margin-left:{{(item.week-1)*120}}rpx;margin-top:{{(item.pitch_num-1)*120+120}}rpx;height:2*850-5rpx;background-color:{{item.color}};width:115rpx;left:140rpx"
        wx:if="{{item.week<6}}">
        <view class="smalltext">
          <text class="smalltext-info" style="padding-bottom:5rpx;margin-right:2rpx">{{item.course_name}}</text>
          <text class="smalltext-info" style="margin-right:2rpx">{{item.class_location}}</text>
        </view>
      </view>

    </view>

  </view>
  <!-- ---------- -->
</view>

<!-- 本周无课提示/系统崩溃无法进入 -->
<view class="noclass">
  <view class="noclass-info" wx:if="{{z101 == ''}}">此周没有课程</view>
  <view class="noclass-info" wx:if="{{z101 == ''}}">如课表有变动请清楚课表缓存再试</view>
  <view class="noclass-info" wx:if="{{can_in_guangli}}">系统驾崩啦</view>
</view>

<!-- 课程详细信息 -->
<view class="class-mask" style="height:{{swiperHeight}}rpx;display:{{showclassmassage}}" bindtap="hidemask"></view>
<view class="class-massage" style="display:{{showclassmassage}}" bindtap="hidemask">
  <view class="class-title">课程信息：</view>
  <view class="class-info">
    <view class="class-detail">课程名称：{{course_name}}</view>
    <view class="class-detail">课程性质：{{course_type}}</view>
    <view class="class-detail">上课地点：{{class_location}}</view>
    <view class="class-detail">授课教师：{{teacher_name}}</view>
  </view>
</view>